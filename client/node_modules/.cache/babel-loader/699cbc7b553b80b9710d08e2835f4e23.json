{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useDispatch } from 'react-redux';\nconst API_URL = 'http://localhost:5000';\nexport const login = async (email, password) => {\n  try {\n    const formdata = new FormData();\n    formdata.append(\"email\", email);\n    formdata.append(\"password\", password);\n    return await axios.post(`${API_URL}/api/user/login`, formdata);\n  } catch (err) {\n    return -1;\n  }\n};\nexport const register = async (name, businessName, password, address, phoneNo, email) => {\n  try {\n    const formdata = new FormData();\n    formdata.append(\"name\", name);\n    formdata.append(\"businessName\", businessName);\n    formdata.append(\"password\", password);\n    formdata.append(\"address\", address);\n    formdata.append(\"phoneNo\", phoneNo);\n    formdata.append(\"email\", email);\n    return await axios.post(`${API_URL}/api/user/registration`, formdata);\n  } catch (err) {\n    return -1;\n  }\n};\nexport const logout = async () => {\n  _s();\n\n  try {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"userEmail\");\n    localStorage.removeItem(\"userName\");\n    localStorage.removeItem(\"userPhone\");\n    localStorage.removeItem(\"userType\");\n    localStorage.removeItem(\"userJoinDate\");\n    const dispatch = useDispatch();\n    dispatch({\n      type: \"USER_DETAILS\",\n      payload: {\n        userEmail: \"\",\n        userPhone: \"\",\n        userId: \"\",\n        userName: \"\",\n        userJoinDate: \"\",\n        token: \"\",\n        userType: \"\"\n      }\n    });\n    return await axios.post(`${API_URL}/api/user/logout`);\n  } catch (err) {\n    return -1;\n  }\n};\n\n_s(logout, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\nexport const isLoggedIn = async () => {\n  try {\n    return await axios.get(`${API_URL}/api/user/isLoggedIn`);\n  } catch (err) {\n    return -1;\n  }\n};","map":{"version":3,"sources":["H:/AgroChain/client/src/api/users/index.js"],"names":["axios","useDispatch","API_URL","login","email","password","formdata","FormData","append","post","err","register","name","businessName","address","phoneNo","logout","localStorage","removeItem","dispatch","type","payload","userEmail","userPhone","userId","userName","userJoinDate","token","userType","isLoggedIn","get"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport {useDispatch} from 'react-redux'\r\n\r\nconst API_URL = 'http://localhost:5000'\r\n\r\nexport const login = async (email, password) => {\r\n    try {\r\n        const formdata = new FormData();\r\n        formdata.append(\"email\", email);\r\n        formdata.append(\"password\", password);\r\n        return await axios.post(`${API_URL}/api/user/login`, formdata);\r\n    } \r\n    catch (err) {\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport const register = async (name, businessName, password, address, phoneNo, email) => {\r\n    try {\r\n        const formdata = new FormData();\r\n        formdata.append(\"name\", name);\r\n        formdata.append(\"businessName\", businessName);\r\n        formdata.append(\"password\", password);\r\n        formdata.append(\"address\", address);\r\n        formdata.append(\"phoneNo\", phoneNo);\r\n        formdata.append(\"email\", email);\r\n        return await axios.post(`${API_URL}/api/user/registration`, formdata);\r\n    }\r\n    catch (err) {\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport const logout = async () => {\r\n    try {\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"userId\");\r\n        localStorage.removeItem(\"userEmail\");\r\n        localStorage.removeItem(\"userName\");\r\n        localStorage.removeItem(\"userPhone\");\r\n        localStorage.removeItem(\"userType\");\r\n        localStorage.removeItem(\"userJoinDate\");\r\n\r\n    const dispatch = useDispatch();\r\n        dispatch({\r\n            type: \"USER_DETAILS\",\r\n            payload: {\r\n                userEmail: \"\",\t\r\n                userPhone: \"\",\t\r\n                userId: \"\",\t\r\n                userName: \"\",\t\r\n                userJoinDate: \"\",\t\r\n                token:  \"\",\t\r\n                userType: \"\"\r\n            }\r\n        })\r\n\r\n        return await axios.post(`${API_URL}/api/user/logout`);\r\n    }\r\n    catch(err){\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport const isLoggedIn = async () => {\r\n    try {\r\n        return await axios.get(`${API_URL}/api/user/isLoggedIn`)\r\n    }\r\n    catch (err){\r\n        return -1;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}