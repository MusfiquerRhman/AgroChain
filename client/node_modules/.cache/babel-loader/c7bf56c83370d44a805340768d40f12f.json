{"ast":null,"code":"var _jsxFileName = \"H:\\\\Agro Chain\\\\agro_chain\\\\client\\\\src\\\\components\\\\productsComponents\\\\productsDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom'; // MaterialUI Elements\n\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport CardContent from '@mui/material/CardContent';\nimport Typography from '@mui/material/Typography';\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Input from '@mui/material/Input';\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport FormHelperText from \"@mui/material/FormHelperText\";\nimport FormControl from \"@mui/material/FormControl\";\nimport CardActions from '@mui/material/CardActions';\nimport Button from '@mui/material/Button';\nimport Paper from '@mui/material/Paper';\nimport Snackbar from '@mui/material/Snackbar';\nimport CardHeader from '@mui/material/CardHeader';\nimport MuiAlert from '@mui/material/Alert';\nimport Skeleton from '@mui/material/Skeleton';\nimport style from \"../../styles/productDetailsStyle\";\nimport * as userApi from \"../../api/users\";\nimport * as productApi from \"../../api/products\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Alert = /*#__PURE__*/React.forwardRef(_c = function Alert(props, ref) {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    ref: ref,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 12\n  }, this);\n});\n_c2 = Alert;\n\nfunction ProductDetails() {\n  _s();\n\n  const classes = style();\n  const {\n    id\n  } = useParams();\n  const [value, setValue] = useState(\"\");\n  const [isSnakebarOpen, setIsSnakebarOpen] = useState(false);\n  const [flashMessage, setFlashMEssage] = useState(\"\");\n  const [snakeBarType, setSnakeBarType] = useState(\"success\");\n  const [totalPrice, setTotalPrice] = useState(\"Add to cart\");\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [PRODUCT_ID, setProductId] = useState(\"\");\n  const [PRODUCT_NAME_EN, setNameEn] = useState(\"\");\n  const [PRODUCT_NAME_BN, setNameBn] = useState(\"\");\n  const [PRODUCT_IN_STOCK_QUANTITY, setInStockQuantity] = useState(\"\");\n  const [PRODUCT_MEASUREMENT_UNIT, setProdcutMesuarementUnit] = useState(\"\");\n  const [PRODUCT_AGRO_PRICE, setPrice] = useState(\"\");\n  const [PRODUCT_DISCOUNT, setDiscount] = useState(\"\");\n  const [PRODUCT_IMG, setImage] = useState(\"\");\n  const [PRODUCT_DETAILS, setProductDetails] = useState(\"\");\n  useEffect(() => {\n    const loggedInUser = localStorage.getItem(\"userId\");\n\n    if (loggedInUser) {\n      setIsLoggedIn(true);\n    } else {\n      setTotalPrice(\"Log in first!\");\n    }\n\n    async function getData() {\n      const res = await productApi.productDetails(id);\n\n      if (res.status === 200) {\n        setProductId(res.data.data[0].PRODUCT_ID);\n        setNameEn(res.data.data[0].PRODUCT_NAME_EN);\n        setNameBn(res.data.data[0].PRODUCT_NAME_BN);\n        setInStockQuantity(res.data.data[0].PRODUCT_IN_STOCK_QUANTITY);\n        setProdcutMesuarementUnit(res.data.data[0].PRODUCT_MEASUREMENT_UNIT);\n        setPrice(res.data.data[0].PRODUCT_AGRO_PRICE);\n        setDiscount(res.data.data[0].PRODUCT_DISCOUNT);\n        setImage(res.data.data[0].PRODUCT_IMG);\n        setProductDetails(res.data.data[0].PRODUCT_DETAILS);\n      }\n    }\n\n    getData();\n  }, [id]);\n\n  const handleChange = event => {\n    setValue(event.target.value);\n\n    if (event.target.value !== \"\") {\n      setTotalPrice(`Price: ${(PRODUCT_AGRO_PRICE - PRODUCT_AGRO_PRICE * PRODUCT_DISCOUNT / 100) * event.target.value}`);\n    } else {\n      setTotalPrice(\"Add to cart\");\n    }\n  };\n\n  const handleCloseSnackbar = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setIsSnakebarOpen(false);\n  };\n\n  const submitForm = async e => {\n    if (value > 0) {\n      const res = await userApi.addToCart(PRODUCT_ID, value);\n\n      if (res.status === 201) {\n        setIsSnakebarOpen(true);\n        setFlashMEssage(`${PRODUCT_NAME_EN} (${PRODUCT_NAME_BN}) Added to cart`);\n        setValue(\"\");\n        setSnakeBarType(\"success\");\n      } else {\n        setSnakeBarType(\"error\");\n        setFlashMEssage(\"Server Error! please try again later\");\n      }\n    } else {\n      setIsSnakebarOpen(true);\n      setSnakeBarType(\"error\");\n      setFlashMEssage(\"Enter a valid amount\");\n    }\n  };\n\n  let isAvailable = true;\n\n  let offerText = /*#__PURE__*/_jsxDEV(Typography, {\n    gutterBottom: true,\n    variant: \"subtitle1\",\n    component: \"div\",\n    children: \"No offer available\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, this);\n\n  if (PRODUCT_IN_STOCK_QUANTITY <= 0) {\n    offerText = /*#__PURE__*/_jsxDEV(Typography, {\n      gutterBottom: true,\n      variant: \"subtitle1\",\n      component: \"div\",\n      children: \"Currently not in stock\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this);\n    isAvailable = false;\n  } else if (PRODUCT_DISCOUNT > 0) {\n    offerText = /*#__PURE__*/_jsxDEV(Typography, {\n      gutterBottom: true,\n      variant: \"subtitle1\",\n      component: \"div\",\n      children: [\"Discount: \\u09F3 \", PRODUCT_AGRO_PRICE * PRODUCT_DISCOUNT / 100, \" /  \", PRODUCT_MEASUREMENT_UNIT, \" (\", PRODUCT_DISCOUNT, \"%)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      open: isSnakebarOpen,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: snakeBarType,\n        sx: {\n          width: '100%'\n        },\n        children: flashMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 6,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.form,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            width: '100%'\n          },\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            direction: \"row\",\n            justifyContent: \"space-between\",\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              item: true,\n              direction: \"column\",\n              spacing: 2,\n              xs: 12,\n              lg: 6,\n              children: PRODUCT_NAME_BN === \"\" ? /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  width: 300\n                },\n                children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n                  animation: \"wave\",\n                  width: 210,\n                  height: 118\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n                  width: '100%',\n                  height: 118\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.card,\n                children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n                  titleTypographyProps: {\n                    variant: 'h2'\n                  },\n                  subheaderTypographyProps: {\n                    variant: 'h5'\n                  },\n                  title: `${PRODUCT_NAME_EN}`,\n                  subheader: `${PRODUCT_NAME_BN}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    gutterBottom: true,\n                    variant: \"subtitle1\",\n                    component: \"div\",\n                    children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: `Price: à§³ ${PRODUCT_AGRO_PRICE} / ${PRODUCT_MEASUREMENT_UNIT}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: offerText\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    gutterBottom: true,\n                    variant: \"subtitle1\",\n                    component: \"div\",\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Description: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 49\n                    }, this), `${PRODUCT_DETAILS}`]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n                  children: /*#__PURE__*/_jsxDEV(Grid, {\n                    container: true,\n                    spacing: 2,\n                    direction: \"row\",\n                    justifyContent: \"flex-start\",\n                    children: [/*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      xs: 12,\n                      md: 6,\n                      children: /*#__PURE__*/_jsxDEV(FormControl, {\n                        sx: {\n                          m: 1,\n                          width: \"90%\"\n                        },\n                        variant: \"outlined\",\n                        focused: true,\n                        children: [/*#__PURE__*/_jsxDEV(Input, {\n                          id: \"outlined-adornment-weight\",\n                          value: value,\n                          color: \"secondary\",\n                          onChange: e => {\n                            handleChange(e);\n                          },\n                          disabled: !isAvailable || !isLoggedIn,\n                          endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                            position: \"end\",\n                            children: PRODUCT_MEASUREMENT_UNIT\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 226,\n                            columnNumber: 61\n                          }, this),\n                          \"aria-describedby\": \"outlined-weight-helper-text\",\n                          type: \"number\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 219,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n                          id: \"outlined-weight-helper-text\",\n                          children: /*#__PURE__*/_jsxDEV(Typography, {\n                            gutterBottom: true,\n                            variant: \"body1\",\n                            component: \"span\",\n                            children: totalPrice\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 234,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 233,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 214,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      xs: 12,\n                      md: 6,\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        size: \"large\",\n                        variant: \"contained\",\n                        disabled: !isAvailable || !isLoggedIn,\n                        onClick: submitForm,\n                        fullWidth: true,\n                        children: \"Add to cart\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 248,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              lg: 6,\n              children: PRODUCT_IMG === \"\" ? /*#__PURE__*/_jsxDEV(Skeleton, {\n                variant: \"rectangular\",\n                width: '100%',\n                height: '40vh'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `/img/${PRODUCT_IMG}`,\n                className: classes.image,\n                alt: \"Product imag\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProductDetails, \"b23+HBXu1S93jnSLQiMnjUI4CoQ=\", false, function () {\n  return [useParams];\n});\n\n_c3 = ProductDetails;\nexport default ProductDetails; // ProductDetails.getInitialProps = async (context) => {\n//     const response = await fetch(`http://localhost:3000/api/products/${context.params.id}`)\n//     let data = await response.json();\n//     return {props: {data}}\n// }\n// export const getServerSideProps = async (context) => {\n//     const response = await fetch(`http://localhost:3000/api/products/${context.params.id}`)\n//     let data = await response.json();\n//     return {props: {data}}\n// }\n//==========================================================================================================================\n// UPDATE products_details \n// SET \n//     PRODUCT_DETAILS = \"Cheese is a dairy product produced in wide ranges of flavors, textures and forms by coagulation of the milk protein casein. It comprises proteins and fat from milk, usually the milk of cows, buffalo, goats, or sheep.\"\n// WHERE\n//     PRODUCT_DETAILS IS NULL\n// ALTER TABLE products_details\n// ADD `PRODUCT_DETAILS` TEXT,\n// ADD `IS_AVAILABLE` BOOL\n// ALTER TABLE seasons\n// ADD `SEASON_START_DAY` INT,\n// ADD `SEASON_START_MONTH` INT,\n// ADD `SEASON_END_DAY` INT,\n// ADD `SEASON_END_MONTH` INT\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Alert$React.forwardRef\");\n$RefreshReg$(_c2, \"Alert\");\n$RefreshReg$(_c3, \"ProductDetails\");","map":{"version":3,"sources":["H:/Agro Chain/agro_chain/client/src/components/productsComponents/productsDetails.js"],"names":["React","useState","useEffect","useParams","Box","Grid","CardContent","Typography","ListItemText","Input","InputAdornment","FormHelperText","FormControl","CardActions","Button","Paper","Snackbar","CardHeader","MuiAlert","Skeleton","style","userApi","productApi","Alert","forwardRef","props","ref","ProductDetails","classes","id","value","setValue","isSnakebarOpen","setIsSnakebarOpen","flashMessage","setFlashMEssage","snakeBarType","setSnakeBarType","totalPrice","setTotalPrice","isLoggedIn","setIsLoggedIn","PRODUCT_ID","setProductId","PRODUCT_NAME_EN","setNameEn","PRODUCT_NAME_BN","setNameBn","PRODUCT_IN_STOCK_QUANTITY","setInStockQuantity","PRODUCT_MEASUREMENT_UNIT","setProdcutMesuarementUnit","PRODUCT_AGRO_PRICE","setPrice","PRODUCT_DISCOUNT","setDiscount","PRODUCT_IMG","setImage","PRODUCT_DETAILS","setProductDetails","loggedInUser","localStorage","getItem","getData","res","productDetails","status","data","handleChange","event","target","handleCloseSnackbar","reason","submitForm","e","addToCart","isAvailable","offerText","width","form","card","variant","m","image"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,SAAR,QAAyB,kBAAzB,C,CACA;;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AAEA,OAAOC,KAAP,MAAkB,kCAAlB;AACA,OAAO,KAAKC,OAAZ,MAAyB,iBAAzB;AACA,OAAO,KAAKC,UAAZ,MAA4B,oBAA5B;;AAEA,MAAMC,KAAK,gBAAGvB,KAAK,CAACwB,UAAN,MAAiB,SAASD,KAAT,CAAeE,KAAf,EAAsBC,GAAtB,EAA2B;AACtD,sBAAO,QAAC,QAAD;AAAU,IAAA,SAAS,EAAE,CAArB;AAAwB,IAAA,GAAG,EAAEA,GAA7B;AAAkC,IAAA,OAAO,EAAC,QAA1C;AAAA,OAAuDD;AAAvD;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,CAFa,CAAd;MAAMF,K;;AAIN,SAASI,cAAT,GAA0B;AAAA;;AACtB,QAAMC,OAAO,GAAGR,KAAK,EAArB;AACA,QAAM;AAAES,IAAAA;AAAF,MAAS1B,SAAS,EAAxB;AACA,QAAM,CAAC2B,KAAD,EAAQC,QAAR,IAAoB9B,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAAC+B,cAAD,EAAiBC,iBAAjB,IAAsChC,QAAQ,CAAC,KAAD,CAApD;AACA,QAAM,CAACiC,YAAD,EAAeC,eAAf,IAAkClC,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACmC,YAAD,EAAeC,eAAf,IAAkCpC,QAAQ,CAAC,SAAD,CAAhD;AACA,QAAM,CAACqC,UAAD,EAAaC,aAAb,IAA8BtC,QAAQ,CAAC,aAAD,CAA5C;AACA,QAAM,CAACuC,UAAD,EAAaC,aAAb,IAA8BxC,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACyC,UAAD,EAAaC,YAAb,IAA6B1C,QAAQ,CAAC,EAAD,CAA3C;AACA,QAAM,CAAC2C,eAAD,EAAkBC,SAAlB,IAA+B5C,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM,CAAC6C,eAAD,EAAkBC,SAAlB,IAA+B9C,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM,CAAC+C,yBAAD,EAA4BC,kBAA5B,IAAkDhD,QAAQ,CAAC,EAAD,CAAhE;AACA,QAAM,CAACiD,wBAAD,EAA2BC,yBAA3B,IAAwDlD,QAAQ,CAAC,EAAD,CAAtE;AACA,QAAM,CAACmD,kBAAD,EAAqBC,QAArB,IAAiCpD,QAAQ,CAAC,EAAD,CAA/C;AACA,QAAM,CAACqD,gBAAD,EAAmBC,WAAnB,IAAkCtD,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACuD,WAAD,EAAcC,QAAd,IAA0BxD,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACyD,eAAD,EAAkBC,iBAAlB,IAAuC1D,QAAQ,CAAC,EAAD,CAArD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAM0D,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAArB;;AACA,QAAGF,YAAH,EAAgB;AACZnB,MAAAA,aAAa,CAAC,IAAD,CAAb;AACH,KAFD,MAGK;AACDF,MAAAA,aAAa,CAAC,eAAD,CAAb;AACH;;AAED,mBAAewB,OAAf,GAAwB;AACpB,YAAMC,GAAG,GAAG,MAAM1C,UAAU,CAAC2C,cAAX,CAA0BpC,EAA1B,CAAlB;;AACA,UAAGmC,GAAG,CAACE,MAAJ,KAAe,GAAlB,EAAsB;AAClBvB,QAAAA,YAAY,CAACqB,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBzB,UAAlB,CAAZ;AACAG,QAAAA,SAAS,CAACmB,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBvB,eAAlB,CAAT;AACAG,QAAAA,SAAS,CAACiB,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBrB,eAAlB,CAAT;AACAG,QAAAA,kBAAkB,CAACe,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBnB,yBAAlB,CAAlB;AACAG,QAAAA,yBAAyB,CAACa,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBjB,wBAAlB,CAAzB;AACAG,QAAAA,QAAQ,CAACW,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBf,kBAAlB,CAAR;AACAG,QAAAA,WAAW,CAACS,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBb,gBAAlB,CAAX;AACAG,QAAAA,QAAQ,CAACO,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBX,WAAlB,CAAR;AACAG,QAAAA,iBAAiB,CAACK,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBT,eAAlB,CAAjB;AACH;AACJ;;AACDK,IAAAA,OAAO;AACV,GAxBQ,EAwBN,CAAClC,EAAD,CAxBM,CAAT;;AA0BA,QAAMuC,YAAY,GAAIC,KAAD,IAAW;AAC5BtC,IAAAA,QAAQ,CAACsC,KAAK,CAACC,MAAN,CAAaxC,KAAd,CAAR;;AACA,QAAGuC,KAAK,CAACC,MAAN,CAAaxC,KAAb,KAAuB,EAA1B,EAA6B;AACzBS,MAAAA,aAAa,CAAE,UACX,CAACa,kBAAkB,GAAGA,kBAAkB,GAAGE,gBAArB,GAAuC,GAA7D,IAAoEe,KAAK,CAACC,MAAN,CAAaxC,KACpF,EAFY,CAAb;AAGH,KAJD,MAIO;AACHS,MAAAA,aAAa,CAAC,aAAD,CAAb;AACH;AACJ,GATD;;AAWA,QAAMgC,mBAAmB,GAAG,CAACF,KAAD,EAAQG,MAAR,KAAmB;AAC3C,QAAIA,MAAM,KAAK,WAAf,EAA4B;AACxB;AACH;;AACDvC,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACH,GALD;;AAOA,QAAMwC,UAAU,GAAG,MAAOC,CAAP,IAAa;AAC5B,QAAG5C,KAAK,GAAG,CAAX,EAAc;AACV,YAAMkC,GAAG,GAAG,MAAM3C,OAAO,CAACsD,SAAR,CAAkBjC,UAAlB,EAA8BZ,KAA9B,CAAlB;;AACA,UAAGkC,GAAG,CAACE,MAAJ,KAAe,GAAlB,EAAsB;AAClBjC,QAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACAE,QAAAA,eAAe,CAAE,GAAES,eAAgB,KAAIE,eAAgB,iBAAxC,CAAf;AACAf,QAAAA,QAAQ,CAAC,EAAD,CAAR;AACAM,QAAAA,eAAe,CAAC,SAAD,CAAf;AACH,OALD,MAMK;AACDA,QAAAA,eAAe,CAAC,OAAD,CAAf;AACAF,QAAAA,eAAe,CAAC,sCAAD,CAAf;AACH;AACJ,KAZD,MAaK;AACDF,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACAI,MAAAA,eAAe,CAAC,OAAD,CAAf;AACAF,MAAAA,eAAe,CAAC,sBAAD,CAAf;AACH;AACJ,GAnBD;;AAqBA,MAAIyC,WAAW,GAAG,IAAlB;;AACA,MAAIC,SAAS,gBACT,QAAC,UAAD;AACI,IAAA,YAAY,MADhB;AAEI,IAAA,OAAO,EAAC,WAFZ;AAGI,IAAA,SAAS,EAAC,KAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;;AAUA,MAAG7B,yBAAyB,IAAI,CAAhC,EAAkC;AAC9B6B,IAAAA,SAAS,gBACL,QAAC,UAAD;AACI,MAAA,YAAY,MADhB;AAEI,MAAA,OAAO,EAAC,WAFZ;AAGI,MAAA,SAAS,EAAC,KAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AASAD,IAAAA,WAAW,GAAG,KAAd;AACH,GAXD,MAaK,IAAGtB,gBAAgB,GAAG,CAAtB,EAAwB;AACzBuB,IAAAA,SAAS,gBACL,QAAC,UAAD;AAAY,MAAA,YAAY,MAAxB;AAAyB,MAAA,OAAO,EAAC,WAAjC;AAA6C,MAAA,SAAS,EAAC,KAAvD;AAAA,sCACiBzB,kBAAkB,GAAGE,gBAArB,GAAuC,GADxD,UACiEJ,wBADjE,QAC6FI,gBAD7F;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH;;AAED,sBACI;AAAA,4BACI,QAAC,QAAD;AACI,MAAA,IAAI,EAAEtB,cADV;AAEI,MAAA,gBAAgB,EAAE,IAFtB;AAGI,MAAA,OAAO,EAAEuC,mBAHb;AAAA,6BAKI,QAAC,KAAD;AACI,QAAA,OAAO,EAAEA,mBADb;AAEI,QAAA,QAAQ,EAAEnC,YAFd;AAGI,QAAA,EAAE,EAAE;AAAE0C,UAAAA,KAAK,EAAE;AAAT,SAHR;AAAA,kBAKK5C;AALL;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAeI,QAAC,KAAD;AAAO,MAAA,SAAS,EAAE,CAAlB;AAAA,6BACI;AAAK,QAAA,SAAS,EAAEN,OAAO,CAACmD,IAAxB;AAAA,+BACI,QAAC,GAAD;AAAK,UAAA,EAAE,EAAE;AAAED,YAAAA,KAAK,EAAE;AAAT,WAAT;AAAA,iCACI,QAAC,IAAD;AAAM,YAAA,SAAS,MAAf;AACI,YAAA,OAAO,EAAE,CADb;AAEI,YAAA,SAAS,EAAC,KAFd;AAGI,YAAA,cAAc,EAAC,eAHnB;AAAA,oCAKI,QAAC,IAAD;AAAM,cAAA,SAAS,MAAf;AAAgB,cAAA,IAAI,MAApB;AACI,cAAA,SAAS,EAAC,QADd;AAEI,cAAA,OAAO,EAAE,CAFb;AAGI,cAAA,EAAE,EAAE,EAHR;AAII,cAAA,EAAE,EAAE,CAJR;AAAA,wBAMMhC,eAAe,KAAK,EAArB,gBACG,QAAC,GAAD;AAAK,gBAAA,EAAE,EAAE;AAAEgC,kBAAAA,KAAK,EAAE;AAAT,iBAAT;AAAA,wCACI,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,MAApB;AAA2B,kBAAA,KAAK,EAAE,GAAlC;AAAuC,kBAAA,MAAM,EAAE;AAA/C;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAGI,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,wBAHJ,eAII,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,wBAJJ,eAKI,QAAC,QAAD;AAAU,kBAAA,KAAK,EAAE,MAAjB;AAAyB,kBAAA,MAAM,EAAE;AAAjC;AAAA;AAAA;AAAA;AAAA,wBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBADH,gBASG;AAAK,gBAAA,SAAS,EAAIlD,OAAO,CAACoD,IAA1B;AAAA,wCACI,QAAC,UAAD;AACI,kBAAA,oBAAoB,EAAE;AAAEC,oBAAAA,OAAO,EAAC;AAAV,mBAD1B;AAEI,kBAAA,wBAAwB,EAAE;AAAEA,oBAAAA,OAAO,EAAC;AAAV,mBAF9B;AAGI,kBAAA,KAAK,EAAG,GAAErC,eAAgB,EAH9B;AAII,kBAAA,SAAS,EAAG,GAAEE,eAAgB;AAJlC;AAAA;AAAA;AAAA;AAAA,wBADJ,eAQI,QAAC,WAAD;AAAA,0CACI,QAAC,UAAD;AAAY,oBAAA,YAAY,MAAxB;AAAyB,oBAAA,OAAO,EAAC,WAAjC;AAA6C,oBAAA,SAAS,EAAC,KAAvD;AAAA,4CACI,QAAC,YAAD;AAAc,sBAAA,OAAO,EAChB,YAAWM,kBAAmB,MAAKF,wBAAyB;AADjE;AAAA;AAAA;AAAA;AAAA,4BADJ,eAII,QAAC,YAAD;AAAc,sBAAA,OAAO,EAAE2B;AAAvB;AAAA;AAAA;AAAA;AAAA,4BAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAOI,QAAC,UAAD;AAAY,oBAAA,YAAY,MAAxB;AAAyB,oBAAA,OAAO,EAAC,WAAjC;AAA6C,oBAAA,SAAS,EAAC,KAAvD;AAAA,4CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,EAC0B,GAAEnB,eAAgB,EAD5C;AAAA;AAAA;AAAA;AAAA;AAAA,0BAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBARJ,eAoBA,QAAC,WAAD;AAAA,yCACI,QAAC,IAAD;AAAM,oBAAA,SAAS,MAAf;AACI,oBAAA,OAAO,EAAE,CADb;AAEI,oBAAA,SAAS,EAAC,KAFd;AAGI,oBAAA,cAAc,EAAC,YAHnB;AAAA,4CAKI,QAAC,IAAD;AAAM,sBAAA,IAAI,MAAV;AACI,sBAAA,EAAE,EAAE,EADR;AAEI,sBAAA,EAAE,EAAE,CAFR;AAAA,6CAII,QAAC,WAAD;AACI,wBAAA,EAAE,EAAE;AAAEwB,0BAAAA,CAAC,EAAE,CAAL;AAAQJ,0BAAAA,KAAK,EAAE;AAAf,yBADR;AAEI,wBAAA,OAAO,EAAC,UAFZ;AAGI,wBAAA,OAAO,MAHX;AAAA,gDAKI,QAAC,KAAD;AACI,0BAAA,EAAE,EAAC,2BADP;AAEI,0BAAA,KAAK,EAAEhD,KAFX;AAGI,0BAAA,KAAK,EAAE,WAHX;AAII,0BAAA,QAAQ,EAAG4C,CAAD,IAAO;AAACN,4BAAAA,YAAY,CAACM,CAAD,CAAZ;AAAgB,2BAJtC;AAKI,0BAAA,QAAQ,EAAE,CAACE,WAAD,IAAgB,CAACpC,UAL/B;AAMI,0BAAA,YAAY,eACR,QAAC,cAAD;AAAgB,4BAAA,QAAQ,EAAC,KAAzB;AAAA,sCACKU;AADL;AAAA;AAAA;AAAA;AAAA,kCAPR;AAWI,8CAAiB,6BAXrB;AAYI,0BAAA,IAAI,EAAC;AAZT;AAAA;AAAA;AAAA;AAAA,gCALJ,eAmBI,QAAC,cAAD;AAAgB,0BAAA,EAAE,EAAC,6BAAnB;AAAA,iDACI,QAAC,UAAD;AACI,4BAAA,YAAY,MADhB;AAEI,4BAAA,OAAO,EAAC,OAFZ;AAGI,4BAAA,SAAS,EAAC,MAHd;AAAA,sCAKKZ;AALL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gCAnBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,4BALJ,eAuCI,QAAC,IAAD;AAAM,sBAAA,IAAI,MAAV;AACI,sBAAA,EAAE,EAAE,EADR;AAEI,sBAAA,EAAE,EAAE,CAFR;AAAA,6CAII,QAAC,MAAD;AACI,wBAAA,IAAI,EAAC,OADT;AAEI,wBAAA,OAAO,EAAC,WAFZ;AAGI,wBAAA,QAAQ,EAAE,CAACsC,WAAD,IAAgB,CAACpC,UAH/B;AAII,wBAAA,OAAO,EAAEiC,UAJb;AAKI,wBAAA,SAAS,MALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,4BAvCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAfR;AAAA;AAAA;AAAA;AAAA,oBALJ,eAmGI,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,EAAf;AAAmB,cAAA,EAAE,EAAE,CAAvB;AAAA,wBACMjB,WAAW,KAAK,EAAjB,gBACG,QAAC,QAAD;AAAU,gBAAA,OAAO,EAAC,aAAlB;AAAgC,gBAAA,KAAK,EAAE,MAAvC;AAA+C,gBAAA,MAAM,EAAE;AAAvD;AAAA;AAAA;AAAA;AAAA,sBADH,gBAGG;AAAK,gBAAA,GAAG,EAAG,QAAOA,WAAY,EAA9B;AAAiC,gBAAA,SAAS,EAAE5B,OAAO,CAACuD,KAApD;AAA2D,gBAAA,GAAG,EAAC;AAA/D;AAAA;AAAA;AAAA;AAAA;AAJR;AAAA;AAAA;AAAA;AAAA,oBAnGJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAfJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAmIH;;GAvPQxD,c;UAEUxB,S;;;MAFVwB,c;AAyPT,eAAeA,cAAf,C,CAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {useParams } from 'react-router-dom'\r\n// MaterialUI Elements\r\nimport Box from '@mui/material/Box';\r\nimport Grid from '@mui/material/Grid';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Typography from '@mui/material/Typography';\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport Input from '@mui/material/Input';\r\nimport InputAdornment from \"@mui/material/InputAdornment\";\r\nimport FormHelperText from \"@mui/material/FormHelperText\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport CardActions from '@mui/material/CardActions';\r\nimport Button from '@mui/material/Button';\r\nimport Paper from '@mui/material/Paper';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport CardHeader from '@mui/material/CardHeader';\r\nimport MuiAlert from '@mui/material/Alert';\r\nimport Skeleton from '@mui/material/Skeleton';\r\n\r\nimport style from \"../../styles/productDetailsStyle\"\r\nimport * as userApi from \"../../api/users\"\r\nimport * as productApi from \"../../api/products\"\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nfunction ProductDetails() {\r\n    const classes = style();\r\n    const { id } = useParams()\r\n    const [value, setValue] = useState(\"\")\r\n    const [isSnakebarOpen, setIsSnakebarOpen] = useState(false)\r\n    const [flashMessage, setFlashMEssage] = useState(\"\");\r\n    const [snakeBarType, setSnakeBarType] = useState(\"success\");\r\n    const [totalPrice, setTotalPrice] = useState(\"Add to cart\");\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const [PRODUCT_ID, setProductId] = useState(\"\")\r\n    const [PRODUCT_NAME_EN, setNameEn] = useState(\"\")\r\n    const [PRODUCT_NAME_BN, setNameBn] = useState(\"\")\r\n    const [PRODUCT_IN_STOCK_QUANTITY, setInStockQuantity] = useState(\"\")\r\n    const [PRODUCT_MEASUREMENT_UNIT, setProdcutMesuarementUnit] = useState(\"\")\r\n    const [PRODUCT_AGRO_PRICE, setPrice] = useState(\"\")\r\n    const [PRODUCT_DISCOUNT, setDiscount] = useState(\"\")\r\n    const [PRODUCT_IMG, setImage] = useState(\"\")\r\n    const [PRODUCT_DETAILS, setProductDetails] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        const loggedInUser = localStorage.getItem(\"userId\");\r\n        if(loggedInUser){\r\n            setIsLoggedIn(true);\r\n        }\r\n        else {\r\n            setTotalPrice(\"Log in first!\")\r\n        }\r\n\r\n        async function getData(){\r\n            const res = await productApi.productDetails(id);\r\n            if(res.status === 200){\r\n                setProductId(res.data.data[0].PRODUCT_ID)\r\n                setNameEn(res.data.data[0].PRODUCT_NAME_EN)\r\n                setNameBn(res.data.data[0].PRODUCT_NAME_BN)\r\n                setInStockQuantity(res.data.data[0].PRODUCT_IN_STOCK_QUANTITY)\r\n                setProdcutMesuarementUnit(res.data.data[0].PRODUCT_MEASUREMENT_UNIT)\r\n                setPrice(res.data.data[0].PRODUCT_AGRO_PRICE)\r\n                setDiscount(res.data.data[0].PRODUCT_DISCOUNT)\r\n                setImage(res.data.data[0].PRODUCT_IMG)\r\n                setProductDetails(res.data.data[0].PRODUCT_DETAILS)\r\n            } \r\n        }\r\n        getData();\r\n    }, [id])\r\n\r\n    const handleChange = (event) => {\r\n        setValue(event.target.value);\r\n        if(event.target.value !== \"\"){\r\n            setTotalPrice(`Price: ${\r\n                (PRODUCT_AGRO_PRICE - PRODUCT_AGRO_PRICE * PRODUCT_DISCOUNT /100) * event.target.value\r\n            }`);\r\n        } else {\r\n            setTotalPrice(\"Add to cart\");\r\n        }\r\n    };\r\n\r\n    const handleCloseSnackbar = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setIsSnakebarOpen(false);\r\n    };\r\n\r\n    const submitForm = async (e) => {\r\n        if(value > 0) {\r\n            const res = await userApi.addToCart(PRODUCT_ID, value);\r\n            if(res.status === 201){\r\n                setIsSnakebarOpen(true);\r\n                setFlashMEssage(`${PRODUCT_NAME_EN} (${PRODUCT_NAME_BN}) Added to cart`);\r\n                setValue(\"\");\r\n                setSnakeBarType(\"success\");\r\n            }\r\n            else {\r\n                setSnakeBarType(\"error\");\r\n                setFlashMEssage(\"Server Error! please try again later\");\r\n            }\r\n        }\r\n        else {\r\n            setIsSnakebarOpen(true);\r\n            setSnakeBarType(\"error\");\r\n            setFlashMEssage(\"Enter a valid amount\");\r\n        }\r\n    }\r\n\r\n    let isAvailable = true;\r\n    let offerText= (\r\n        <Typography \r\n            gutterBottom \r\n            variant=\"subtitle1\" \r\n            component=\"div\"\r\n        >\r\n            No offer available\r\n        </Typography>\r\n    )\r\n\r\n    if(PRODUCT_IN_STOCK_QUANTITY <= 0){\r\n        offerText = (\r\n            <Typography \r\n                gutterBottom \r\n                variant=\"subtitle1\" \r\n                component=\"div\"\r\n                > \r\n                Currently not in stock\r\n            </Typography>\r\n        )\r\n        isAvailable = false;\r\n    }\r\n\r\n    else if(PRODUCT_DISCOUNT > 0){\r\n        offerText = (\r\n            <Typography gutterBottom variant=\"subtitle1\" component=\"div\">\r\n                Discount: à§³ {PRODUCT_AGRO_PRICE * PRODUCT_DISCOUNT /100} /  {PRODUCT_MEASUREMENT_UNIT} ({PRODUCT_DISCOUNT}%)\r\n            </Typography>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Snackbar \r\n                open={isSnakebarOpen} \r\n                autoHideDuration={6000} \r\n                onClose={handleCloseSnackbar}\r\n            >\r\n                <Alert \r\n                    onClose={handleCloseSnackbar} \r\n                    severity={snakeBarType} \r\n                    sx={{ width: '100%' }}\r\n                >\r\n                    {flashMessage}\r\n                </Alert>\r\n            </Snackbar>\r\n\r\n            <Paper elevation={6} > \r\n                <div className={classes.form}>\r\n                    <Box sx={{ width: '100%' }}>\r\n                        <Grid container \r\n                            spacing={2} \r\n                            direction=\"row\" \r\n                            justifyContent=\"space-between\"\r\n                        >\r\n                            <Grid container item \r\n                                direction=\"column\" \r\n                                spacing={2} \r\n                                xs={12} \r\n                                lg={6}\r\n                            >\r\n                                {(PRODUCT_NAME_BN === \"\") ? (\r\n                                    <Box sx={{ width: 300 }}>\r\n                                        <Skeleton animation=\"wave\" width={210} height={118} />\r\n                                        <Skeleton />\r\n                                        <Skeleton />\r\n                                        <Skeleton /> \r\n                                        <Skeleton width={'100%'} height={118}/>      \r\n                                    </Box>\r\n                                ) : (\r\n                                    <div className = {classes.card}>\r\n                                        <CardHeader\r\n                                            titleTypographyProps={{ variant:'h2' }}\r\n                                            subheaderTypographyProps={{ variant:'h5' }}\r\n                                            title={`${PRODUCT_NAME_EN}`}\r\n                                            subheader={`${PRODUCT_NAME_BN}`}\r\n                                        />\r\n\r\n                                        <CardContent >\r\n                                            <Typography gutterBottom variant=\"subtitle1\" component=\"div\">\r\n                                                <ListItemText primary={\r\n                                                    `Price: à§³ ${PRODUCT_AGRO_PRICE} / ${PRODUCT_MEASUREMENT_UNIT}`\r\n                                                } />\r\n                                                <ListItemText primary={offerText} />                \r\n                                            </Typography>\r\n                                            <Typography gutterBottom variant=\"subtitle1\" component=\"div\">\r\n                                                <b>Description: </b>{`${PRODUCT_DETAILS}`}\r\n                                            </Typography>\r\n                                        </CardContent>\r\n\r\n                                    <CardActions>\r\n                                        <Grid container \r\n                                            spacing={2} \r\n                                            direction=\"row\" \r\n                                            justifyContent=\"flex-start\"\r\n                                        >\r\n                                            <Grid item \r\n                                                xs={12} \r\n                                                md={6}\r\n                                            >\r\n                                                <FormControl \r\n                                                    sx={{ m: 1, width: \"90%\" }} \r\n                                                    variant=\"outlined\" \r\n                                                    focused\r\n                                                >\r\n                                                    <Input\r\n                                                        id=\"outlined-adornment-weight\"\r\n                                                        value={value}\r\n                                                        color= \"secondary\"\r\n                                                        onChange={(e) => {handleChange(e)}}\r\n                                                        disabled={!isAvailable || !isLoggedIn}\r\n                                                        endAdornment={\r\n                                                            <InputAdornment position=\"end\">\r\n                                                                {PRODUCT_MEASUREMENT_UNIT}\r\n                                                            </InputAdornment>\r\n                                                        }\r\n                                                        aria-describedby=\"outlined-weight-helper-text\"    \r\n                                                        type=\"number\"                    \r\n                                                    />\r\n                                                    <FormHelperText id=\"outlined-weight-helper-text\">\r\n                                                        <Typography \r\n                                                            gutterBottom \r\n                                                            variant=\"body1\" \r\n                                                            component=\"span\"\r\n                                                        >\r\n                                                            {totalPrice}\r\n                                                        </Typography>\r\n                                                    </FormHelperText>\r\n                                                </FormControl>\r\n                                            </Grid>\r\n                                            <Grid item \r\n                                                xs={12} \r\n                                                md={6}\r\n                                            >\r\n                                                <Button \r\n                                                    size=\"large\" \r\n                                                    variant=\"contained\" \r\n                                                    disabled={!isAvailable || !isLoggedIn}\r\n                                                    onClick={submitForm}\r\n                                                    fullWidth\r\n                                                >\r\n                                                    Add to cart\r\n                                                </Button>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </CardActions>\r\n                                </div>\r\n                            )}\r\n                        </Grid>\r\n                            <Grid item xs={12} lg={6}>\r\n                                {(PRODUCT_IMG === \"\") ? (\r\n                                    <Skeleton variant=\"rectangular\" width={'100%'} height={'40vh'} />\r\n                                ) : (\r\n                                    <img src={`/img/${PRODUCT_IMG}`} className={classes.image} alt=\"Product imag\" />\r\n                                )}\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Box>\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductDetails;\r\n\r\n\r\n// ProductDetails.getInitialProps = async (context) => {\r\n//     const response = await fetch(`http://localhost:3000/api/products/${context.params.id}`)\r\n//     let data = await response.json();\r\n//     return {props: {data}}\r\n// }\r\n\r\n// export const getServerSideProps = async (context) => {\r\n//     const response = await fetch(`http://localhost:3000/api/products/${context.params.id}`)\r\n//     let data = await response.json();\r\n//     return {props: {data}}\r\n// }\r\n\r\n//==========================================================================================================================\r\n// UPDATE products_details \r\n// SET \r\n//     PRODUCT_DETAILS = \"Cheese is a dairy product produced in wide ranges of flavors, textures and forms by coagulation of the milk protein casein. It comprises proteins and fat from milk, usually the milk of cows, buffalo, goats, or sheep.\"\r\n// WHERE\r\n//     PRODUCT_DETAILS IS NULL\r\n\r\n// ALTER TABLE products_details\r\n// ADD `PRODUCT_DETAILS` TEXT,\r\n// ADD `IS_AVAILABLE` BOOL\r\n\r\n// ALTER TABLE seasons\r\n// ADD `SEASON_START_DAY` INT,\r\n// ADD `SEASON_START_MONTH` INT,\r\n// ADD `SEASON_END_DAY` INT,\r\n// ADD `SEASON_END_MONTH` INT"]},"metadata":{},"sourceType":"module"}