{"ast":null,"code":"var _jsxFileName = \"H:\\\\Agro Chain\\\\agro_chain\\\\client\\\\src\\\\components\\\\productsComponents\\\\cart\\\\cartItems.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react'; // MaterialUI Elements\n\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport Typography from '@mui/material/Typography';\nimport EditIcon from '@mui/icons-material/Edit';\nimport Stack from '@mui/material/Stack';\nimport Button from '@mui/material/Button';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport TextField from '@mui/material/TextField';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\nimport useInputState from \"../../../hooks/useInputState\";\nimport * as userApi from \"../../../api/users\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Alert = /*#__PURE__*/React.forwardRef(_c = function Alert(props, ref) {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    ref: ref,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 10\n  }, this);\n});\n_c2 = Alert;\nexport default function Product(props) {\n  _s();\n\n  const {\n    CART_ID,\n    CART_QUANTITY,\n    PRODUCT_NAME_EN,\n    PRODUCT_NAME_BN,\n    PRODUCT_AGRO_PRICE,\n    PRODUCT_DISCOUNT,\n    PRODUCT_MEASUREMENT_UNIT,\n    PRODUCT_IMG\n  } = props;\n  const [quantity, handleChangeQuantity] = useInputState(\"\");\n  const [openEditPopUp, setOpenEditPopUp] = useState(false);\n  const [deleteOpen, setDeleteOpen] = useState(false);\n  const [cartQuantity, setCartQuantity] = useState(CART_QUANTITY);\n  const [snakeBarOpen, setSnakeBarOpen] = useState(false);\n  const [snakeBarType, setSnakeBarType] = useState(\"success\");\n  const [snakeMessage, setSnakeMessage] = useState(\"\");\n\n  const handleCloseSnakeBar = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setSnakeBarOpen(false);\n  };\n\n  const updateForm = async () => {\n    if (quantity <= 0) {\n      setSnakeBarOpen(true);\n      setSnakeBarType(\"error\");\n      setSnakeMessage(\"Quantity must be greater than 0\");\n    } else {\n      const res = await userApi.updateCart(CART_ID, quantity);\n\n      if (res.status === 200) {\n        setCartQuantity(quantity);\n        setSnakeBarOpen(true);\n        setSnakeBarType(\"success\");\n        setSnakeMessage(\"Successfully updated\");\n        window.location.reload();\n      } else {\n        setSnakeBarOpen(true);\n        setSnakeBarType(\"error\");\n        setSnakeMessage(\"Failed to Update\");\n      }\n\n      setOpenEditPopUp(false);\n    }\n  };\n\n  const deleteForm = async () => {\n    const res = await userApi.deleteCart(CART_ID);\n\n    if (res.status === 200) {\n      setSnakeBarOpen(true);\n      setSnakeBarType(\"success\");\n      setSnakeMessage(\"Successfully Deleted\");\n      window.location.reload();\n    } else {\n      setSnakeBarOpen(true);\n      setSnakeBarType(\"error\");\n      setSnakeMessage(\"Failed to Deleted\");\n    }\n\n    setDeleteOpen(false);\n  };\n\n  const handleClickOpen = () => {\n    setOpenEditPopUp(true);\n  };\n\n  const handleClose = () => {\n    setOpenEditPopUp(false);\n  };\n\n  const handleClickOpenDelete = () => {\n    setDeleteOpen(true);\n  };\n\n  const handleCloseDelete = () => {\n    setDeleteOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snakeBarOpen,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnakeBar,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnakeBar,\n        severity: snakeBarType,\n        sx: {\n          width: '100%'\n        },\n        children: snakeMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openEditPopUp,\n      onClose: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: [PRODUCT_NAME_EN, \" (\", PRODUCT_NAME_BN, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: [\"Current amount: \", cartQuantity, \", Enter new amount:\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"amount\",\n          label: \"Amount\",\n          type: \"number\",\n          InputProps: {\n            inputProps: {\n              min: 1\n            }\n          },\n          fullWidth: true,\n          variant: \"standard\",\n          value: quantity,\n          onChange: handleChangeQuantity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: updateForm,\n          children: \"Done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: deleteOpen,\n      onClose: handleCloseDelete,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-title\",\n        children: \"Are you sure you want to delete?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"alert-dialog-description\",\n          children: [PRODUCT_NAME_EN, \" (\", PRODUCT_NAME_BN, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCloseDelete,\n          children: \"Cancle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: deleteForm,\n          autoFocus: true,\n          color: \"error\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        display: 'flex'\n      },\n      children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n        component: \"img\",\n        sx: {\n          width: 150,\n          height: 130\n        },\n        image: `/img/${PRODUCT_IMG}`,\n        alt: \"Product Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column'\n        },\n        children: [/*#__PURE__*/_jsxDEV(CardContent, {\n          sx: {\n            flex: '1 0 auto'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            component: \"div\",\n            variant: \"h5\",\n            children: `${PRODUCT_NAME_EN} (${PRODUCT_NAME_BN})`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"text.secondary\",\n            component: \"div\",\n            children: [cartQuantity, \" \", PRODUCT_MEASUREMENT_UNIT, \" - \\u09F3 \", (PRODUCT_AGRO_PRICE - PRODUCT_AGRO_PRICE * PRODUCT_DISCOUNT / 100) * cartQuantity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            pl: 2,\n            pb: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Stack, {\n            spacing: 2,\n            direction: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              variant: \"contained\",\n              startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 81\n              }, this),\n              onClick: handleClickOpen,\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              variant: \"contained\",\n              startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 82\n              }, this),\n              color: \"error\",\n              onClick: handleClickOpenDelete,\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Product, \"gjL+QO85ZGD/XXYcmiKRe0Qbp9E=\", false, function () {\n  return [useInputState];\n});\n\n_c3 = Product;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Alert$React.forwardRef\");\n$RefreshReg$(_c2, \"Alert\");\n$RefreshReg$(_c3, \"Product\");","map":{"version":3,"sources":["H:/Agro Chain/agro_chain/client/src/components/productsComponents/cart/cartItems.js"],"names":["React","useState","Box","Card","CardContent","CardMedia","Typography","EditIcon","Stack","Button","DeleteIcon","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Snackbar","MuiAlert","useInputState","userApi","Alert","forwardRef","props","ref","Product","CART_ID","CART_QUANTITY","PRODUCT_NAME_EN","PRODUCT_NAME_BN","PRODUCT_AGRO_PRICE","PRODUCT_DISCOUNT","PRODUCT_MEASUREMENT_UNIT","PRODUCT_IMG","quantity","handleChangeQuantity","openEditPopUp","setOpenEditPopUp","deleteOpen","setDeleteOpen","cartQuantity","setCartQuantity","snakeBarOpen","setSnakeBarOpen","snakeBarType","setSnakeBarType","snakeMessage","setSnakeMessage","handleCloseSnakeBar","event","reason","updateForm","res","updateCart","status","window","location","reload","deleteForm","deleteCart","handleClickOpen","handleClose","handleClickOpenDelete","handleCloseDelete","width","inputProps","min","display","height","flexDirection","flex","alignItems","pl","pb"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\n// MaterialUI Elements\r\nimport Box from '@mui/material/Box';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport Typography from '@mui/material/Typography';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport Stack from '@mui/material/Stack';\r\nimport Button from '@mui/material/Button';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport TextField from '@mui/material/TextField';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert from '@mui/material/Alert';\r\n\r\nimport useInputState from \"../../../hooks/useInputState\"\r\nimport * as userApi from \"../../../api/users\"\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nexport default function Product(props) {\r\n    const {CART_ID, \r\n        CART_QUANTITY, \r\n        PRODUCT_NAME_EN, \r\n        PRODUCT_NAME_BN, \r\n        PRODUCT_AGRO_PRICE, \r\n        PRODUCT_DISCOUNT, \r\n        PRODUCT_MEASUREMENT_UNIT, \r\n        PRODUCT_IMG\r\n    } = props;\r\n\r\n    const [quantity, handleChangeQuantity] = useInputState(\"\");\r\n    const [openEditPopUp, setOpenEditPopUp] = useState(false);\r\n    const [deleteOpen, setDeleteOpen] = useState(false);\r\n    const [cartQuantity, setCartQuantity] = useState(CART_QUANTITY);\r\n\r\n    const [snakeBarOpen, setSnakeBarOpen] = useState(false);\r\n    const [snakeBarType, setSnakeBarType] = useState(\"success\");\r\n    const [snakeMessage, setSnakeMessage] = useState(\"\");\r\n\r\n\r\n    const handleCloseSnakeBar = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setSnakeBarOpen(false);\r\n    };\r\n\r\n    const updateForm = async () => {\r\n        if(quantity <= 0){\r\n            setSnakeBarOpen(true);\r\n            setSnakeBarType(\"error\");\r\n            setSnakeMessage(\"Quantity must be greater than 0\");\r\n        }\r\n        else {\r\n            const res = await userApi.updateCart(CART_ID, quantity);\r\n            if(res.status === 200){\r\n                setCartQuantity(quantity);\r\n                setSnakeBarOpen(true);\r\n                setSnakeBarType(\"success\");\r\n                setSnakeMessage(\"Successfully updated\");\r\n                window.location.reload()\r\n            }\r\n            else {\r\n                setSnakeBarOpen(true);\r\n                setSnakeBarType(\"error\");\r\n                setSnakeMessage(\"Failed to Update\");\r\n            }\r\n            setOpenEditPopUp(false);\r\n        }\r\n    }\r\n\r\n    const deleteForm = async () => {\r\n        const res = await userApi.deleteCart(CART_ID);\r\n        if(res.status === 200){\r\n            setSnakeBarOpen(true);\r\n            setSnakeBarType(\"success\");\r\n            setSnakeMessage(\"Successfully Deleted\");\r\n            window.location.reload()\r\n        }\r\n        else {\r\n            setSnakeBarOpen(true);\r\n            setSnakeBarType(\"error\");\r\n            setSnakeMessage(\"Failed to Deleted\");\r\n        }\r\n        setDeleteOpen(false);\r\n    }\r\n\r\n    const handleClickOpen = () => {\r\n        setOpenEditPopUp(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpenEditPopUp(false);\r\n    };\r\n\r\n\r\n    const handleClickOpenDelete = () => {\r\n        setDeleteOpen(true);\r\n    };\r\n  \r\n    const handleCloseDelete = () => {\r\n        setDeleteOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Snackbar \r\n                open={snakeBarOpen} \r\n                autoHideDuration={6000} onClose={handleCloseSnakeBar}>\r\n                <Alert onClose={handleCloseSnakeBar} severity={snakeBarType} sx={{ width: '100%' }}>\r\n                    {snakeMessage}\r\n                </Alert>\r\n            </Snackbar>\r\n\r\n            <Dialog open={openEditPopUp} onClose={handleClose}>\r\n                <DialogTitle>{PRODUCT_NAME_EN} ({PRODUCT_NAME_BN})</DialogTitle>\r\n                    <DialogContent>\r\n                        <DialogContentText>\r\n                            Current amount: {cartQuantity}, Enter new amount:\r\n                        </DialogContentText>\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"amount\"\r\n                        label=\"Amount\"\r\n                        type=\"number\"\r\n                        InputProps={{\r\n                            inputProps: { \r\n                                min: 1\r\n                            }\r\n                        }}\r\n                        fullWidth\r\n                        variant=\"standard\"\r\n                        value={quantity} \r\n                        onChange={handleChangeQuantity}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose}>Cancel</Button>\r\n                    <Button onClick={updateForm}>Done</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Dialog\r\n                open={deleteOpen}\r\n                onClose={handleCloseDelete}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">\r\n                    Are you sure you want to delete?\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {PRODUCT_NAME_EN} ({PRODUCT_NAME_BN})\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleCloseDelete}>Cancle</Button>\r\n                    <Button onClick={deleteForm} autoFocus color=\"error\">\r\n                        Delete\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Card sx={{ display: 'flex' }}>\r\n                <CardMedia\r\n                    component=\"img\"\r\n                    sx={{ width: 150, height: 130 }}\r\n                    image={`/img/${PRODUCT_IMG}`}\r\n                    alt=\"Product Image\"\r\n                />\r\n                <Box sx={{ display: 'flex', flexDirection: 'column' }}>\r\n                    <CardContent sx={{ flex: '1 0 auto' }}>\r\n                        <Typography component=\"div\" variant=\"h5\">\r\n                            {`${PRODUCT_NAME_EN} (${PRODUCT_NAME_BN})`}\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle1\" color=\"text.secondary\" component=\"div\">\r\n                            {cartQuantity} {PRODUCT_MEASUREMENT_UNIT} - à§³ {(PRODUCT_AGRO_PRICE - PRODUCT_AGRO_PRICE * PRODUCT_DISCOUNT /100) * cartQuantity}\r\n                        </Typography>             \r\n                    </CardContent>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', pl: 2, pb: 1 }}>\r\n                        <Stack spacing={2} direction=\"row\">\r\n                            <Button size=\"small\" variant=\"contained\" startIcon={<EditIcon />} onClick={handleClickOpen}>Edit</Button>\r\n                            <Button size=\"small\" variant=\"contained\"  startIcon={<DeleteIcon />} color=\"error\" onClick={handleClickOpenDelete} >Delete</Button>\r\n                        </Stack>\r\n                    </Box>\r\n                </Box>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}