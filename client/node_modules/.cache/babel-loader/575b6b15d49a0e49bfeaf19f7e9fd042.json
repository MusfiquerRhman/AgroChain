{"ast":null,"code":"import axios from \"axios\";\nimport { authAxios } from \"../helper\";\nconst API_URL = 'http://localhost:5000/api/user';\naxios.defaults.withCredentials = true;\nexport const register = async (name, businessName, password, address, phoneNo, email) => {\n  try {\n    const formdata = new FormData();\n    formdata.append(\"name\", name);\n    formdata.append(\"businessName\", businessName);\n    formdata.append(\"password\", password);\n    formdata.append(\"address\", address);\n    formdata.append(\"phoneNo\", phoneNo);\n    formdata.append(\"email\", email);\n    return await axios.post(`${API_URL}/registration`, formdata);\n  } catch (err) {\n    return -1;\n  }\n};\nexport const login = async (email, password) => {\n  try {\n    const formdata = new FormData();\n    formdata.append(\"email\", email);\n    formdata.append(\"password\", password);\n    return await axios.post(`${API_URL}/login`, formdata);\n  } catch (err) {\n    return -1;\n  }\n};\nexport const isLoggedIn = async () => {\n  try {\n    return await authAxios.get(`${API_URL}/isLoggedIn`, {\n      withCredentials: true\n    });\n  } catch (err) {\n    return -1;\n  }\n};\nexport const logout = async () => {\n  try {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"userEmail\");\n    localStorage.removeItem(\"userName\");\n    localStorage.removeItem(\"userPhone\");\n    localStorage.removeItem(\"userType\");\n    localStorage.removeItem(\"userJoinDate\");\n    return await axios.post(`${API_URL}/logout`, {\n      withCredentials: true\n    });\n  } catch (err) {\n    return -1;\n  }\n};\nexport const addToCart = async (productId, quantity) => {\n  try {\n    const formdata = new FormData();\n    formdata.append(\"userId\", localStorage.getItem(\"userId\"));\n    formdata.append(\"productId\", productId);\n    formdata.append(\"quantity\", quantity);\n    return await authAxios.post(`${API_URL}/cart`, formdata);\n  } catch (err) {\n    console.log(err);\n    return -1;\n  }\n};\nexport const userCartItems = async userid => {\n  try {\n    return await authAxios.get(`${API_URL}/cart/${userid}`);\n  } catch (err) {\n    return -1;\n  }\n};\nexport const submitCart = async userId => {\n  try {\n    return await authAxios.post(`${API_URL}/cart/submit/${userId}`);\n  } catch (err) {\n    return -1;\n  }\n};\nexport const updateCart = async (CART_ID, quantity) => {\n  try {\n    const formdata = new FormData();\n    formdata.append(\"quantity\", quantity);\n    return await authAxios.post(`${API_URL}/cart/update/${CART_ID}`);\n  } catch (err) {\n    return -1;\n  }\n};\nexport const deleteCart = async CART_ID => {\n  try {\n    return await authAxios.get(`${API_URL}/cart/delete/${CART_ID}`);\n  } catch (err) {\n    return -1;\n  }\n};","map":{"version":3,"sources":["H:/Agro Chain/agro_chain/client/src/api/users/index.js"],"names":["axios","authAxios","API_URL","defaults","withCredentials","register","name","businessName","password","address","phoneNo","email","formdata","FormData","append","post","err","login","isLoggedIn","get","logout","localStorage","removeItem","addToCart","productId","quantity","getItem","console","log","userCartItems","userid","submitCart","userId","updateCart","CART_ID","deleteCart"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { authAxios } from \"../helper\";\r\nconst API_URL = 'http://localhost:5000/api/user'\r\naxios.defaults.withCredentials = true\r\n\r\nexport const register = async (name, businessName, password, address, phoneNo, email) => {\r\n    try {\r\n        const formdata = new FormData();\r\n        formdata.append(\"name\", name);\r\n        formdata.append(\"businessName\", businessName);\r\n        formdata.append(\"password\", password);\r\n        formdata.append(\"address\", address);\r\n        formdata.append(\"phoneNo\", phoneNo);\r\n        formdata.append(\"email\", email);\r\n        return await axios.post(`${API_URL}/registration`, formdata);\r\n    }\r\n    catch (err) {\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport const login = async (email, password) => {\r\n    try {\r\n        const formdata = new FormData();\r\n        formdata.append(\"email\", email);\r\n        formdata.append(\"password\", password);\r\n        return await axios.post(`${API_URL}/login`, formdata);\r\n    } \r\n    catch (err) {\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport const isLoggedIn = async () => {\r\n    try {\r\n        return await authAxios.get(`${API_URL}/isLoggedIn`, {withCredentials: true})\r\n    }\r\n    catch (err){\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport const logout = async () => {\r\n    try {\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"userId\");\r\n        localStorage.removeItem(\"userEmail\");\r\n        localStorage.removeItem(\"userName\");\r\n        localStorage.removeItem(\"userPhone\");\r\n        localStorage.removeItem(\"userType\");\r\n        localStorage.removeItem(\"userJoinDate\");\r\n        return await axios.post(`${API_URL}/logout`, {withCredentials: true});\r\n    }\r\n    catch(err){\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport const addToCart = async (productId, quantity) => {\r\n    try {\r\n        const formdata = new FormData();\r\n        formdata.append(\"userId\", localStorage.getItem(\"userId\"));\r\n        formdata.append(\"productId\", productId);\r\n        formdata.append(\"quantity\", quantity);\r\n\r\n        return await authAxios.post(`${API_URL}/cart`, formdata);\r\n    }\r\n    catch (err){\r\n        console.log(err)\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport const userCartItems = async (userid) => {\r\n    try {\r\n        return await authAxios.get(`${API_URL}/cart/${userid}`);\r\n    }\r\n    catch(err){\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport const submitCart = async (userId) => {\r\n    try{\r\n        return await authAxios.post(`${API_URL}/cart/submit/${userId}`);\r\n    }\r\n    catch(err){\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport const updateCart = async (CART_ID, quantity) => {\r\n    try{\r\n        const formdata = new FormData();\r\n        formdata.append(\"quantity\", quantity);\r\n\r\n        return await authAxios.post(`${API_URL}/cart/update/${CART_ID}`);\r\n    }\r\n    catch(err){\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport const deleteCart = async(CART_ID) => {\r\n    try{\r\n        return await authAxios.get(`${API_URL}/cart/delete/${CART_ID}`);\r\n    }\r\n    catch(err){\r\n        return -1;\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}