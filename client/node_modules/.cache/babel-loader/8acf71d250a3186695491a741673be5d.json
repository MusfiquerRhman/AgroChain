{"ast":null,"code":"var _jsxFileName = \"H:\\\\Agro Chain\\\\agro_chain\\\\client\\\\src\\\\components\\\\userComponents\\\\registration.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from \"react-router-dom\"; // MaterialUI Elements\n\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Paper from '@mui/material/Paper';\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport Alert from '@mui/material/Alert';\nimport AlertTitle from '@mui/material/AlertTitle';\nimport useInputState from '../../hooks/useInputState';\nimport style from \"../../styles/formStyle\";\nimport * as userApi from '../../api/users';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Registration() {\n  _s();\n\n  const navigate = useNavigate();\n  const classes = style();\n  const [name, handleChangeName, setName] = useInputState(\"\");\n  const [businessName, handleChangeBusinessName, setBusnessName] = useInputState(\"\");\n  const [password, handleChangePassword, setPassword] = useInputState(\"\");\n  const [confrimPassword, handleChangeConfrimPassword, setConfrimPassword] = useInputState(\"\");\n  const [address, handleChangeAddress, setAddress] = useInputState(\"\");\n  const [phoneNo, handleChangePhoneNo, setPhoneNo] = useInputState(\"\");\n  const [email, handleChangeEmail, setEmail] = useInputState(\"\");\n  const [flashMessage, setFlashMEssage] = useState(\"\");\n  const [isRegistrated, setIsRegistrated] = useState(false);\n\n  const submitForm = async e => {\n    e.preventDefault();\n\n    if (password === confrimPassword) {\n      const res = await userApi.register(name, businessName, password, address, phoneNo, email);\n\n      if (res === -1) {\n        setFlashMEssage(\"Server Error! please try again later\");\n      } else if (res.status === 201) {\n        setIsRegistrated(true);\n      } else if (res.status === 205) {\n        setFlashMEssage(\"Phone no or Email already exist!\");\n      }\n    } else {\n      setFlashMEssage(\"Passwords not matched\");\n    }\n  };\n\n  useEffect(() => {\n    if (isRegistrated) {\n      navigate('/login');\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 6,\n      className: classes.formBox,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h3\",\n          children: \"New Registration:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), flashMessage !== \"\" && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          sx: {\n            marginTop: \"0.5rem\",\n            marginBottom: \"0.5rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n            children: \"Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this), flashMessage]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            width: '100%'\n          },\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            item: true,\n            direction: \"column\",\n            spacing: 2,\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                id: \"registration-name\",\n                label: \"Name\",\n                variant: \"standard\",\n                value: name,\n                onChange: handleChangeName,\n                required: true,\n                fullWidth: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                id: \"registration-company\",\n                label: \"Company/Business Name\",\n                variant: \"standard\",\n                value: businessName,\n                onChange: handleChangeBusinessName,\n                fullWidth: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                id: \"registration-pass\",\n                label: \"Password\",\n                variant: \"standard\",\n                type: \"password\",\n                value: password,\n                onChange: handleChangePassword,\n                required: true,\n                fullWidth: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                id: \"registration-confrimPass\",\n                label: \"Confrim Password\",\n                variant: \"standard\",\n                value: confrimPassword,\n                onChange: handleChangeConfrimPassword,\n                type: \"password\",\n                required: true,\n                fullWidth: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                id: \"registration-phoneNo\",\n                label: \"Phone NO\",\n                variant: \"standard\",\n                type: \"tel\",\n                value: phoneNo,\n                onChange: handleChangePhoneNo,\n                required: true,\n                fullWidth: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                id: \"registration-email\",\n                label: \"Email\",\n                type: \"email\",\n                variant: \"standard\",\n                value: email,\n                onChange: handleChangeEmail,\n                required: true,\n                fullWidth: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                id: \"registration-address\",\n                label: \"Address\",\n                type: \"text\",\n                variant: \"standard\",\n                value: address,\n                onChange: handleChangeAddress,\n                multiline: true,\n                rows: 4,\n                fullWidth: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                fullWidth: true,\n                onClick: submitForm,\n                variant: \"contained\",\n                children: \"Registration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                children: \"Already have an account?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                fullWidth: true,\n                variant: \"contained\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/login\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 72\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Registration, \"tEWv3eXsuT2zRGprODXDKS4SEFA=\", false, function () {\n  return [useNavigate, useInputState, useInputState, useInputState, useInputState, useInputState, useInputState, useInputState];\n});\n\n_c = Registration;\nexport default Registration;\n\nvar _c;\n\n$RefreshReg$(_c, \"Registration\");","map":{"version":3,"sources":["H:/Agro Chain/agro_chain/client/src/components/userComponents/registration.js"],"names":["React","useState","useEffect","Link","useNavigate","Typography","TextField","Button","Paper","Box","Grid","Alert","AlertTitle","useInputState","style","userApi","Registration","navigate","classes","name","handleChangeName","setName","businessName","handleChangeBusinessName","setBusnessName","password","handleChangePassword","setPassword","confrimPassword","handleChangeConfrimPassword","setConfrimPassword","address","handleChangeAddress","setAddress","phoneNo","handleChangePhoneNo","setPhoneNo","email","handleChangeEmail","setEmail","flashMessage","setFlashMEssage","isRegistrated","setIsRegistrated","submitForm","e","preventDefault","res","register","status","formBox","form","marginTop","marginBottom","width"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {Link, useNavigate } from \"react-router-dom\"\r\n// MaterialUI Elements\r\nimport Typography from '@mui/material/Typography';\r\nimport TextField from '@mui/material/TextField';\r\nimport Button from '@mui/material/Button';\r\nimport Paper from '@mui/material/Paper';\r\nimport Box from '@mui/material/Box';\r\nimport Grid from '@mui/material/Grid';\r\nimport Alert from '@mui/material/Alert';\r\nimport AlertTitle from '@mui/material/AlertTitle';\r\n\r\nimport useInputState from '../../hooks/useInputState';\r\nimport style from \"../../styles/formStyle\";\r\nimport * as userApi from '../../api/users';\r\n\r\nfunction Registration(){\r\n    const navigate = useNavigate();\r\n    const classes = style();\r\n\r\n    const [name, handleChangeName, setName] = useInputState(\"\");\r\n    const [businessName, handleChangeBusinessName, setBusnessName] = useInputState(\"\");\r\n    const [password, handleChangePassword, setPassword] = useInputState(\"\");\r\n    const [confrimPassword, handleChangeConfrimPassword, setConfrimPassword] = useInputState(\"\");\r\n    const [address, handleChangeAddress, setAddress] = useInputState(\"\");\r\n    const [phoneNo, handleChangePhoneNo, setPhoneNo] = useInputState(\"\");\r\n    const [email, handleChangeEmail, setEmail] = useInputState(\"\");\r\n    const [flashMessage, setFlashMEssage] = useState(\"\");\r\n    const [isRegistrated, setIsRegistrated] = useState(false);\r\n\r\n    const submitForm = async (e) => {\r\n        e.preventDefault();\r\n        if(password === confrimPassword){\r\n            const res = await userApi.register(name, businessName, password, address, phoneNo, email);\r\n            if(res === -1){\r\n                setFlashMEssage(\"Server Error! please try again later\")\r\n            }\r\n            else if(res.status === 201){\r\n                setIsRegistrated(true);\r\n            }\r\n            else if(res.status === 205){\r\n                setFlashMEssage(\"Phone no or Email already exist!\")\r\n            }\r\n        }\r\n        else {\r\n            setFlashMEssage(\"Passwords not matched\")\r\n        }        \r\n    }\r\n\r\n    useEffect(() => {\r\n        if(isRegistrated){\r\n            navigate('/login');\r\n        }\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <Paper elevation={6} className={classes.formBox} > \r\n                <form className={classes.form}>\r\n\r\n                    <Typography variant=\"h3\">\r\n                        New Registration:\r\n                    </Typography>\r\n\r\n                    {(flashMessage !== \"\") &&\r\n                        <Alert severity=\"error\"\r\n                            sx ={{marginTop: \"0.5rem\", marginBottom: \"0.5rem\"}}>\r\n                            <AlertTitle>Error</AlertTitle>\r\n                            {flashMessage}\r\n                        </Alert>\r\n                    }\r\n\r\n                    <Box sx={{ width: '100%' }}>\r\n                        <Grid container item direction=\"column\" spacing={2} xs={12}>\r\n                            <Grid item>\r\n                                <TextField id=\"registration-name\" \r\n                                    label=\"Name\" \r\n                                    variant=\"standard\" \r\n                                    value={name} \r\n                                    onChange={handleChangeName}\r\n                                    required\r\n                                    fullWidth\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <TextField id=\"registration-company\" \r\n                                    label=\"Company/Business Name\" \r\n                                    variant=\"standard\" \r\n                                    value={businessName} \r\n                                    onChange={handleChangeBusinessName}\r\n                                    fullWidth\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <TextField id=\"registration-pass\" \r\n                                    label=\"Password\" \r\n                                    variant=\"standard\" \r\n                                    type=\"password\"\r\n                                    value={password}\r\n                                    onChange={handleChangePassword}\r\n                                    required\r\n                                    fullWidth\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <TextField id=\"registration-confrimPass\" \r\n                                    label=\"Confrim Password\" \r\n                                    variant=\"standard\" \r\n                                    value={confrimPassword}\r\n                                    onChange={handleChangeConfrimPassword}\r\n                                    type=\"password\"\r\n                                    required\r\n                                    fullWidth\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <TextField id=\"registration-phoneNo\" \r\n                                    label=\"Phone NO\" \r\n                                    variant=\"standard\" \r\n                                    type=\"tel\"\r\n                                    value={phoneNo}\r\n                                    onChange={handleChangePhoneNo}\r\n                                    required\r\n                                    fullWidth\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>                   \r\n                                <TextField id=\"registration-email\" \r\n                                    label=\"Email\" \r\n                                    type=\"email\"\r\n                                    variant=\"standard\" \r\n                                    value={email}\r\n                                    onChange={handleChangeEmail}\r\n                                    required\r\n                                    fullWidth\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>                   \r\n                                <TextField id=\"registration-address\" \r\n                                    label=\"Address\" \r\n                                    type=\"text\"\r\n                                    variant=\"standard\" \r\n                                    value={address}\r\n                                    onChange={handleChangeAddress}\r\n                                    multiline = {true}\r\n                                    rows={4}\r\n                                    fullWidth\r\n                                />\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Button fullWidth onClick={submitForm} variant=\"contained\" >Registration</Button>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Typography variant=\"subtitle1\">\r\n                                    Already have an account?\r\n                                </Typography>\r\n                                <Button fullWidth variant=\"contained\" ><Link to=\"/login\">Login</Link></Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Box>\r\n                </form>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Registration;"]},"metadata":{},"sourceType":"module"}